{"file":"D:\\Latihan\\Programming\\Dummy-Project\\url-shortener\\src\\modules\\auth\\entities\\user.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAA2D;AAC3D,yDAA4C;AAE5C,sEAAkE;AAClE,8DAAoD;AAEpD,IAAY,QAIX;AAJD,WAAY,QAAQ;IAClB,yBAAa,CAAA;IACb,+BAAmB,CAAA;IACnB,2BAAe,CAAA;AACjB,CAAC,EAJW,QAAQ,wBAAR,QAAQ,QAInB;AAED;;EAEE;AAGK,IAAM,IAAI,GAAV,MAAM,IAAK,SAAQ,wBAAU;IAElC,KAAK,CAAS;IAGd,IAAI,CAAS;IAIb,QAAQ,CAAS;IAGjB,IAAI,CAAW;IAGf,eAAe,CAAU;IAIzB,sBAAsB,CAAgB;IAItC,YAAY,CAAgB;IAG5B,WAAW,CAAc;IAGzB,QAAQ,CAAU;IAElB,YAAY;IAEZ,IAAI,CAAQ;CACb,CAAA;AAlCY,oBAAI;AAEf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;;mCACzC;AAGd;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;;kCAC5B;AAIb;IAFC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC;IACvC,IAAA,2BAAO,GAAE,CAAC,qCAAqC;;;sCAC/B;AAGjB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,CAAC,IAAI,EAAE,CAAC;;kCAClD;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;;6CACnB;AAIzB;IAFC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACxD,IAAA,2BAAO,GAAE;;oDAC4B;AAItC;IAFC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;IACxD,IAAA,2BAAO,GAAE;;0CACkB;AAG5B;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,0BAA0B,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;yCACpC;AAGzB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;sCACzB;AAIlB;IADC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,gBAAG,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC;;kCAC9B;eAjCD,IAAI;IAFhB,IAAA,gBAAM,EAAC,OAAO,CAAC;IACf,IAAA,eAAK,EAAC,CAAC,OAAO,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;GACtB,IAAI,CAkChB","names":[],"sources":["D:\\Latihan\\Programming\\Dummy-Project\\url-shortener\\src\\modules\\auth\\entities\\user.entity.ts"],"sourcesContent":["import { Entity, Column, Index, OneToMany } from 'typeorm';\r\nimport { Exclude } from 'class-transformer';\r\n\r\nimport { BaseEntity } from '../../../common/entities/base.entity';\r\nimport { Url } from '../../url/entities/url.entity';\r\n\r\nexport enum UserRole {\r\n  USER = 'user',\r\n  PREMIUM = 'premium',\r\n  ADMIN = 'admin',\r\n}\r\n\r\n/* \r\nUser Entity - User accounts for authentication\r\n*/\r\n@Entity('users')\r\n@Index(['email'], { unique: true })\r\nexport class User extends BaseEntity {\r\n  @Column({ type: 'varchar', length: 255, unique: true })\r\n  email: string;\r\n\r\n  @Column({ type: 'varchar', length: 100 })\r\n  name: string;\r\n\r\n  @Column({ type: 'varchar', length: 60 })\r\n  @Exclude() // not return this column in response\r\n  password: string;\r\n\r\n  @Column({ type: 'enum', enum: UserRole, default: UserRole.USER })\r\n  role: UserRole;\r\n\r\n  @Column({ type: 'boolean', default: false })\r\n  isEmailVerified: boolean;\r\n\r\n  @Column({ type: 'varchar', length: 255, nullable: true })\r\n  @Exclude()\r\n  emailVerificationToken: string | null;\r\n\r\n  @Column({ type: 'varchar', length: 255, nullable: true })\r\n  @Exclude()\r\n  refreshToken: string | null;\r\n\r\n  @Column({ type: 'timestamp with time zone', nullable: true })\r\n  lastLoginAt: Date | null;\r\n\r\n  @Column({ type: 'boolean', default: true })\r\n  isActive: boolean;\r\n\r\n  // Relations\r\n  @OneToMany(() => Url, (url) => url.userId)\r\n  urls: Url[];\r\n}\r\n"],"version":3}
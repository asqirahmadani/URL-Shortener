{"file":"D:\\Latihan\\Programming\\Dummy-Project\\url-shortener\\src\\modules\\auth\\entities\\api-key.entity.ts","mappings":";;;;;;;;;;;;;AAAA,qCAAuE;AAGvE,sEAAkE;AAClE,+CAAqC;AAErC;;EAEE;AAGK,IAAM,MAAM,GAAZ,MAAM,MAAO,SAAQ,wBAAU;IAGpC,AADA,iBAAiB;IACjB,GAAG,CAAS;IAIZ,AADA,mBAAmB;IACnB,IAAI,CAAS;IAGb,MAAM,CAAS;IAIf,IAAI,CAAO;IAGX,UAAU,CAAc;IAGxB,SAAS,CAAc;IAGvB,QAAQ,CAAU;IAGlB,WAAW,CAAW;CACvB,CAAA;AA3BY,wBAAM;AAGjB;IAFC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;IACtD,iBAAiB;;;mCACL;AAIZ;IAFC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,EAAE,CAAC;IACzC,mBAAmB;;;oCACN;AAGb;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;;sCACV;AAIf;IAFC,IAAA,mBAAS,EAAC,GAAG,EAAE,CAAC,kBAAI,CAAC;IACrB,IAAA,oBAAU,EAAC,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;kDACzB,kBAAI,oBAAJ,kBAAI;oCAAC;AAGX;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,0BAA0B,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;0CACrC;AAGxB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,0BAA0B,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;yCACtC;AAGvB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;;wCACzB;AAGlB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2CACpB;iBA1BX,MAAM;IAFlB,IAAA,gBAAM,EAAC,UAAU,CAAC;IAClB,IAAA,eAAK,EAAC,CAAC,KAAK,CAAC,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;GACpB,MAAM,CA2BlB","names":[],"sources":["D:\\Latihan\\Programming\\Dummy-Project\\url-shortener\\src\\modules\\auth\\entities\\api-key.entity.ts"],"sourcesContent":["import { Entity, Column, Index, ManyToOne, JoinColumn } from 'typeorm';\r\nimport { Exclude } from 'class-transformer';\r\n\r\nimport { BaseEntity } from '../../../common/entities/base.entity';\r\nimport { User } from './user.entity';\r\n\r\n/* \r\nAPI Key Entity - API keys for external integrations\r\n*/\r\n@Entity('api_keys')\r\n@Index(['key'], { unique: true })\r\nexport class ApiKey extends BaseEntity {\r\n  @Column({ type: 'varchar', length: 64, unique: true })\r\n  // hashed API key\r\n  key: string;\r\n\r\n  @Column({ type: 'varchar', length: 100 })\r\n  // descriptive name\r\n  name: string;\r\n\r\n  @Column({ type: 'uuid' })\r\n  userId: string;\r\n\r\n  @ManyToOne(() => User)\r\n  @JoinColumn({ name: 'userId' })\r\n  user: User;\r\n\r\n  @Column({ type: 'timestamp with time zone', nullable: true })\r\n  lastUsedAt: Date | null;\r\n\r\n  @Column({ type: 'timestamp with time zone', nullable: true })\r\n  expiresAt: Date | null;\r\n\r\n  @Column({ type: 'boolean', default: true })\r\n  isActive: boolean;\r\n\r\n  @Column({ type: 'jsonb', nullable: true })\r\n  permissions: string[];\r\n}\r\n"],"version":3}
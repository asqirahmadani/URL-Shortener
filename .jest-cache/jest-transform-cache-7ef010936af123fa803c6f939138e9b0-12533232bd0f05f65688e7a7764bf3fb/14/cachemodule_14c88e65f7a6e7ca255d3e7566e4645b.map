{"file":"D:\\Latihan\\Programming\\Dummy-Project\\url-shortener\\src\\common\\cache\\cache.module.ts","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,yDAAuE;AACvE,sEAAwD;AACxD,2CAAgD;AAChD,2CAA+C;AAE/C,mEAA8D;AAC9D,mDAA+C;AAE/C;;EAEE;AAwBK,IAAM,WAAW,GAAjB,MAAM,WAAW;CAAG,CAAA;AAAd,kCAAW;sBAAX,WAAW;IAvBvB,IAAA,eAAM,GAAE;IACR,IAAA,eAAM,EAAC;QACN,OAAO,EAAE;YACP,2BAAe,CAAC,aAAa,CAAC;gBAC5B,MAAM,EAAE,CAAC,sBAAa,CAAC;gBACvB,UAAU,EAAE,KAAK,EAAE,aAA4B,EAAE,EAAE,CAAC,CAAC;oBACnD,KAAK,EAAE,UAAU;oBACjB,IAAI,EAAE,aAAa,CAAC,GAAG,CAAS,YAAY,CAAE;oBAC9C,IAAI,EAAE,aAAa,CAAC,GAAG,CAAS,YAAY,CAAE;oBAC9C,QAAQ,EAAE,aAAa,CAAC,GAAG,CAAS,gBAAgB,CAAE;oBACtD,EAAE,EAAE,aAAa,CAAC,GAAG,CAAS,UAAU,EAAE,CAAC,CAAE;oBAC7C,GAAG,EAAE,aAAa,CAAC,GAAG,CAAS,WAAW,EAAE,IAAI,CAAE;oBAClD,GAAG,EAAE,GAAG;oBAER,iBAAiB;oBACjB,gBAAgB,EAAE,IAAI;oBACtB,oBAAoB,EAAE,CAAC;iBACxB,CAAC;aACH,CAAC;SACH;QACD,SAAS,EAAE,CAAC,4BAAY,EAAE,2CAAmB,CAAC;QAC9C,OAAO,EAAE,CAAC,2BAAe,EAAE,4BAAY,EAAE,2CAAmB,CAAC;KAC9D,CAAC;GACW,WAAW,CAAG","names":[],"sources":["D:\\Latihan\\Programming\\Dummy-Project\\url-shortener\\src\\common\\cache\\cache.module.ts"],"sourcesContent":["import { CacheModule as NestCacheModule } from '@nestjs/cache-manager';\r\nimport * as redisStore from 'cache-manager-redis-store';\r\nimport { Module, Global } from '@nestjs/common';\r\nimport { ConfigService } from '@nestjs/config';\r\n\r\nimport { CacheMetricsService } from './cache-metrics.service';\r\nimport { CacheService } from './cache.service';\r\n\r\n/* \r\nCache Module - Global cache configuration\r\n*/\r\n@Global()\r\n@Module({\r\n  imports: [\r\n    NestCacheModule.registerAsync({\r\n      inject: [ConfigService],\r\n      useFactory: async (configService: ConfigService) => ({\r\n        store: redisStore,\r\n        host: configService.get<string>('REDIS_HOST')!,\r\n        port: configService.get<number>('REDIS_PORT')!,\r\n        password: configService.get<string>('REDIS_PASSWORD')!,\r\n        db: configService.get<number>('REDIS_DB', 1)!,\r\n        ttl: configService.get<number>('CACHE_TTL', 3600)!,\r\n        max: 100,\r\n\r\n        // Error handling\r\n        socket_keepalive: true,\r\n        socket_initial_delay: 0,\r\n      }),\r\n    }),\r\n  ],\r\n  providers: [CacheService, CacheMetricsService],\r\n  exports: [NestCacheModule, CacheService, CacheMetricsService],\r\n})\r\nexport class CacheModule {}\r\n"],"version":3}